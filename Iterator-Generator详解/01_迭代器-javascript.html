<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const names = ["张三", "李四", "王五"];

      // 给数组添加一个迭代器方法
      const namesIterator = {
        next: function () {
          const done = this.index >= this.names.length;
          const value = !done ? this.names[this.index++] : undefined;
          return {
            // 返回一个对象，对象中包含value和done两个属性
            value,
            done,
          };
        },
      };

      // 封装函数 生成迭代器
      // 有一个next方法，每次调用next方法都会返回一个对象，对象中包含value和done两个属性
      function makeIterator(array) {
        let index = 0;
        return {
          next: function () {
            const done = index >= array.length;
            const value = !done ? array[index++] : undefined;
            return {
              value,
              done,
            };
          },
        };
      }

      const iterator = makeIterator(names);

      console.log(iterator.next());
      console.log(iterator.next());
      console.log(iterator.next());
      console.log(iterator.next());
    </script>
  </body>
</html>
